name: build

on: 
  pull_request:
  push:
    branches: 
      - master

env:
  BUILD_TYPE: Release

jobs:  
  ubuntu-latest:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: install pre-reqs and build
      run: sudo ./install/installUbuntu.sh
    - name: test
      run: |
       ./build/usher --help
       ./build/matUtils --help
       mpirun -np 1 ./build/matOptimize --help
       ./build/ripples --help
       command -v mafft

  macos-latest:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@master
    - name: install pre-reqs and build
      run: |
       ./install/installMacOS.sh
    - name: test
      run: |
       ./build/usher --help
       ./build/matOptimize --help
       ./build/matUtils --help
       ./build/ripples --help
       mafft --help

